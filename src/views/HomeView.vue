<template>
  <div class="wrapper flex flex-col min-h-screen">
    <TheHeader
      @go-to-timeline="goTo('timeline')"
      @go-to-progress="goTo('progress')"
    />
    <TheMain :page="currentPage" />
    <TheNav
      @open-page="goTo"
      :nav-items="navItems"
      :current-page="currentPage"
    />
  </div>
</template>

<script lang="ts" setup>
import { ref } from "vue";
import TheMain from "@/components/TheMain.vue";
import TheNav from "@/components/TheNav.vue";
import TheHeader from "@/components/TheHeader.vue";

import { normalizeHash } from "@/lib/helper";
import { navItems } from "@/lib/constants";
//////////////////////////////////////////////////////////////////

// взять из url имя странаицы
const currentPage = ref(normalizeHash(navItems));

// Открыть новую страницу
function goTo(page: string) {
  currentPage.value = page;
}
</script>
